

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Code Documentation &mdash; OpenSfM 0.5.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/mathjax_conf.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Control points annotation tool" href="annotation_tool.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> OpenSfM
          

          
          </a>

          
            
            
              <div class="version">
                0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="building.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="using.html">Using</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataset.html">Dataset Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataset.html#reconstruction-file-format">Reconstruction file format</a></li>
<li class="toctree-l1"><a class="reference internal" href="geometry.html">Geometric Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="cam_coord_system.html">Camera Coordinate System and Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconstruction_module.html">Incremental reconstruction algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="large.html">Splitting a large dataset into smaller submodels</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="quality_report.html">Statistics and Quality Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="rig.html">Rig Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="annotation_tool.html">Control points annotation tool</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Code Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-opensfm.dataset">Dataset I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-opensfm.types">Reconstruction Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-opensfm.features">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-opensfm.matching">Matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-opensfm.reconstruction">Incremental Reconstruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-opensfm.config">Config</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenSfM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Code Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/mapillary/OpenSfM/blob/master/doc/source/api.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="code-documentation">
<h1>Code Documentation<a class="headerlink" href="#code-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-opensfm.dataset">
<span id="dataset-i-o"></span><h2>Dataset I/O<a class="headerlink" href="#module-opensfm.dataset" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">opensfm.dataset.</span></span><span class="sig-name descname"><span class="pre">DataSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data_path:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">io_handler=&lt;class</span> <span class="pre">'opensfm.io.IoFilesystemDefault'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessors to the main input and output data.</p>
<p>Data include input images, masks, and segmentation as well
temporary data such as features and matches and the final
reconstructions.</p>
<p>All data is stored inside a single folder with a specific subfolder
structure.</p>
<p>It is possible to store data remotely or in different formats
by subclassing this class and overloading its methods.</p>
<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.camera_models_overrides_exists">
<span class="sig-name descname"><span class="pre">camera_models_overrides_exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.camera_models_overrides_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.camera_models_overrides_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if camera overrides file exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.exif_overrides_exists">
<span class="sig-name descname"><span class="pre">exif_overrides_exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.exif_overrides_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.exif_overrides_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if EXIF overrides file exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.feature_type">
<span class="sig-name descname"><span class="pre">feature_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.feature_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.feature_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the type of local features (e.g. AKAZE, SURF, SIFT)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.image_size">
<span class="sig-name descname"><span class="pre">image_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.image_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.image_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Height and width of the image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.images">
<span class="sig-name descname"><span class="pre">images</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.images" title="Permalink to this definition">¶</a></dt>
<dd><p>List of file names of all images in the dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_camera_models">
<span class="sig-name descname"><span class="pre">load_camera_models</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pygeometry.Camera</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_camera_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_camera_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Return camera models data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_camera_models_overrides">
<span class="sig-name descname"><span class="pre">load_camera_models_overrides</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pygeometry.Camera</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_camera_models_overrides"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_camera_models_overrides" title="Permalink to this definition">¶</a></dt>
<dd><p>Load camera models overrides data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_combined_mask">
<span class="sig-name descname"><span class="pre">load_combined_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_combined_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_combined_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine binary mask with segmentation mask.</p>
<p>Return a mask that is non-zero only where the binary
mask and the segmentation mask are non-zero.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_detection">
<span class="sig-name descname"><span class="pre">load_detection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_detection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image detection if it exists, otherwise return None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_exif">
<span class="sig-name descname"><span class="pre">load_exif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_exif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_exif" title="Permalink to this definition">¶</a></dt>
<dd><p>Load pre-extracted image exif metadata.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_exif_overrides">
<span class="sig-name descname"><span class="pre">load_exif_overrides</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_exif_overrides"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_exif_overrides" title="Permalink to this definition">¶</a></dt>
<dd><p>Load EXIF overrides data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_features_mask">
<span class="sig-name descname"><span class="pre">load_features_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_features_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_features_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a feature-wise mask.</p>
<p>This is a binary array true for features that lie inside the
combined mask.
The array is all true when there’s no mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_ground_control_points">
<span class="sig-name descname"><span class="pre">load_ground_control_points</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">opensfm.pymap.GroundControlPoint</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_ground_control_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_ground_control_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Load ground control points.</p>
<p>It uses reference_lla to convert the coordinates
to topocentric reference frame.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_ground_control_points_impl">
<span class="sig-name descname"><span class="pre">load_ground_control_points_impl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">opensfm.geo.TopocentricConverter</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">opensfm.pymap.GroundControlPoint</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_ground_control_points_impl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_ground_control_points_impl" title="Permalink to this definition">¶</a></dt>
<dd><p>Load ground control points.</p>
<p>It might use reference to convert the coordinates
to topocentric reference frame.
If reference is None, it won’t initialize topocentric data,
thus allowing loading raw data only.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_image">
<span class="sig-name descname"><span class="pre">load_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unchanged</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anydepth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grayscale</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image pixels as numpy array.</p>
<p>The array is 3D, indexed by y-coord, x-coord, channel.
The channels are in RGB order.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_image_list">
<span class="sig-name descname"><span class="pre">load_image_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_image_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_image_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image list from image_list.txt or list images/ folder.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_instances">
<span class="sig-name descname"><span class="pre">load_instances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_instances"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image instances file if it exists, otherwise return None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_mask">
<span class="sig-name descname"><span class="pre">load_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image mask if it exists, otherwise return None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_mask_list">
<span class="sig-name descname"><span class="pre">load_mask_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_mask_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_mask_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Load mask list from mask_list.txt or list masks/ folder.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_reference">
<span class="sig-name descname"><span class="pre">load_reference</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">opensfm.geo.TopocentricConverter</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_reference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_reference" title="Permalink to this definition">¶</a></dt>
<dd><p>Load reference as a topocentric converter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_report">
<span class="sig-name descname"><span class="pre">load_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a report file as a string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_rig_assignments">
<span class="sig-name descname"><span class="pre">load_rig_assignments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_rig_assignments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_rig_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return rig assignments  data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_rig_assignments_per_image">
<span class="sig-name descname"><span class="pre">load_rig_assignments_per_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_rig_assignments_per_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_rig_assignments_per_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Return rig assignments  data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_rig_cameras">
<span class="sig-name descname"><span class="pre">load_rig_cameras</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pymap.RigCamera</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_rig_cameras"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_rig_cameras" title="Permalink to this definition">¶</a></dt>
<dd><p>Return rig models data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_segmentation">
<span class="sig-name descname"><span class="pre">load_segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_segmentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_segmentation" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image segmentation if it exists, otherwise return None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_segmentation_mask">
<span class="sig-name descname"><span class="pre">load_segmentation_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_segmentation_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_segmentation_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a mask from segmentation ignore values.</p>
<p>The mask is non-zero only for pixels with segmentation
labels not in segmentation_ignore_values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.load_tracks_manager">
<span class="sig-name descname"><span class="pre">load_tracks_manager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">opensfm.pymap.TracksManager</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.load_tracks_manager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.load_tracks_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tracks manager</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.open_image_file">
<span class="sig-name descname"><span class="pre">open_image_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">IO</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.open_image_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.open_image_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Open image file and return file object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.profile_log">
<span class="sig-name descname"><span class="pre">profile_log</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.profile_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.profile_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Filename where to write timings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.save_camera_models">
<span class="sig-name descname"><span class="pre">save_camera_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera_models</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pygeometry.Camera</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.save_camera_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.save_camera_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Save camera models data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.save_camera_models_overrides">
<span class="sig-name descname"><span class="pre">save_camera_models_overrides</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera_models</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pygeometry.Camera</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.save_camera_models_overrides"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.save_camera_models_overrides" title="Permalink to this definition">¶</a></dt>
<dd><p>Save camera models overrides data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.save_ply">
<span class="sig-name descname"><span class="pre">save_ply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_cameras</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_points</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_num_views</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.save_ply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.save_ply" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a reconstruction in PLY format.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.save_report">
<span class="sig-name descname"><span class="pre">save_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">report_str</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.save_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.save_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Save report string to a file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.save_rig_assignments">
<span class="sig-name descname"><span class="pre">save_rig_assignments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rig_assignments</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.save_rig_assignments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.save_rig_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Save rig assignments  data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.save_rig_cameras">
<span class="sig-name descname"><span class="pre">save_rig_cameras</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rig_cameras</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pymap.RigCamera</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.save_rig_cameras"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.save_rig_cameras" title="Permalink to this definition">¶</a></dt>
<dd><p>Save rig models data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.segmentation_ignore_values">
<span class="sig-name descname"><span class="pre">segmentation_ignore_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.segmentation_ignore_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.segmentation_ignore_values" title="Permalink to this definition">¶</a></dt>
<dd><p>List of label values to ignore.</p>
<p>Pixels with this labels values will be masked out and won’t be
processed when extracting features or computing depthmaps.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.DataSet.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">images_subset</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#opensfm.dataset.DataSet" title="opensfm.dataset.DataSet"><span class="pre">opensfm.dataset.DataSet</span></a><a class="reference internal" href="_modules/opensfm/dataset.html#DataSet.subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSet.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a subset of this dataset by symlinking input data.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="opensfm.dataset.DataSetBase">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">opensfm.dataset.</span></span><span class="sig-name descname"><span class="pre">DataSetBase</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#DataSetBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.DataSetBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Base for dataset classes providing i/o access to persistent data.</p>
<p>It is possible to store data remotely or in different formats
by subclassing this class and overloading its methods.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">opensfm.dataset.</span></span><span class="sig-name descname"><span class="pre">UndistortedDataSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">base_dataset:</span> <span class="pre">opensfm.dataset.DataSetBase</span></em>, <em class="sig-param"><span class="pre">undistorted_data_path:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">io_handler=&lt;class</span> <span class="pre">'opensfm.io.IoFilesystemDefault'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessors to the undistorted data of a dataset.</p>
<p>Data include undistorted images, masks, and segmentation as well
the undistorted reconstruction, tracks graph and computed depth maps.</p>
<p>All data is stored inside the single folder <code class="docutils literal notranslate"><span class="pre">undistorted_data_path</span></code>.
By default, this path is set to the <code class="docutils literal notranslate"><span class="pre">undistorted</span></code> subfolder.</p>
<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.depthmap_file">
<span class="sig-name descname"><span class="pre">depthmap_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.depthmap_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.depthmap_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the depthmap file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.load_undistorted_combined_mask">
<span class="sig-name descname"><span class="pre">load_undistorted_combined_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.load_undistorted_combined_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.load_undistorted_combined_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine undistorted binary mask with segmentation mask.</p>
<p>Return a mask that is non-zero only where the binary
mask and the segmentation mask are non-zero.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.load_undistorted_detection">
<span class="sig-name descname"><span class="pre">load_undistorted_detection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.load_undistorted_detection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.load_undistorted_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an undistorted image detection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.load_undistorted_image">
<span class="sig-name descname"><span class="pre">load_undistorted_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.load_undistorted_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.load_undistorted_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Load undistorted image pixels as a numpy array.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.load_undistorted_mask">
<span class="sig-name descname"><span class="pre">load_undistorted_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.load_undistorted_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.load_undistorted_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Load undistorted mask pixels as a numpy array.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.load_undistorted_segmentation">
<span class="sig-name descname"><span class="pre">load_undistorted_segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.load_undistorted_segmentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.load_undistorted_segmentation" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an undistorted image segmentation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.load_undistorted_segmentation_mask">
<span class="sig-name descname"><span class="pre">load_undistorted_segmentation_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.load_undistorted_segmentation_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.load_undistorted_segmentation_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a mask from the undistorted segmentation.</p>
<p>The mask is non-zero only for pixels with segmentation
labels not in segmentation_ignore_values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.save_undistorted_detection">
<span class="sig-name descname"><span class="pre">save_undistorted_detection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.save_undistorted_detection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.save_undistorted_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the undistorted image detection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.save_undistorted_image">
<span class="sig-name descname"><span class="pre">save_undistorted_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.save_undistorted_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.save_undistorted_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Save undistorted image pixels.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.save_undistorted_mask">
<span class="sig-name descname"><span class="pre">save_undistorted_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.save_undistorted_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.save_undistorted_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the undistorted image mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.save_undistorted_segmentation">
<span class="sig-name descname"><span class="pre">save_undistorted_segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.save_undistorted_segmentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.save_undistorted_segmentation" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the undistorted image segmentation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.undistorted_detection_exists">
<span class="sig-name descname"><span class="pre">undistorted_detection_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.undistorted_detection_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.undistorted_detection_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the undistorted detection file exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.undistorted_image_size">
<span class="sig-name descname"><span class="pre">undistorted_image_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.undistorted_image_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.undistorted_image_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Height and width of the undistorted image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.undistorted_mask_exists">
<span class="sig-name descname"><span class="pre">undistorted_mask_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.undistorted_mask_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.undistorted_mask_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the undistorted mask file exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.dataset.UndistortedDataSet.undistorted_segmentation_exists">
<span class="sig-name descname"><span class="pre">undistorted_segmentation_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="reference internal" href="_modules/opensfm/dataset.html#UndistortedDataSet.undistorted_segmentation_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.dataset.UndistortedDataSet.undistorted_segmentation_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the undistorted segmentation file exists.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-opensfm.types">
<span id="reconstruction-types"></span><h2>Reconstruction Types<a class="headerlink" href="#module-opensfm.types" title="Permalink to this headline">¶</a></h2>
<p>Basic types for building a reconstruction.</p>
<dl class="py class">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">opensfm.types.</span></span><span class="sig-name descname"><span class="pre">Reconstruction</span></span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the reconstructed scene.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.cameras">
<span class="sig-name descname"><span class="pre">cameras</span></span><a class="headerlink" href="#opensfm.types.Reconstruction.cameras" title="Permalink to this definition">¶</a></dt>
<dd><p>List of cameras.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict(Camera)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.shots">
<span class="sig-name descname"><span class="pre">shots</span></span><a class="headerlink" href="#opensfm.types.Reconstruction.shots" title="Permalink to this definition">¶</a></dt>
<dd><p>List of reconstructed shots.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict(Shot)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.points">
<span class="sig-name descname"><span class="pre">points</span></span><a class="headerlink" href="#opensfm.types.Reconstruction.points" title="Permalink to this definition">¶</a></dt>
<dd><p>List of reconstructed points.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict(Point)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.reference">
<span class="sig-name descname"><span class="pre">reference</span></span><a class="headerlink" href="#opensfm.types.Reconstruction.reference" title="Permalink to this definition">¶</a></dt>
<dd><p>Topocentric reference converter.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>TopocentricConverter</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.add_camera">
<span class="sig-name descname"><span class="pre">add_camera</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction.add_camera"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction.add_camera" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a camera in the list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>camera</strong> – The camera.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.add_observation">
<span class="sig-name descname"><span class="pre">add_observation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shot_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction.add_observation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction.add_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an observation between a shot and a landmark
:param shot_id: The id of the shot
:param lm_id: The id of the landmark
:param observation: The observation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.add_point">
<span class="sig-name descname"><span class="pre">add_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction.add_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction.add_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a point in the list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>point</strong> – The point.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.add_rig_camera">
<span class="sig-name descname"><span class="pre">add_rig_camera</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rig_camera</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction.add_rig_camera"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction.add_rig_camera" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a rig camera in the list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rig_camera</strong> – The rig camera.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.add_rig_instance">
<span class="sig-name descname"><span class="pre">add_rig_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rig_instance</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction.add_rig_instance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction.add_rig_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a copy of the passed rig instance
in the current reconstruction</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.add_shot">
<span class="sig-name descname"><span class="pre">add_shot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shot</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction.add_shot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction.add_shot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a copy of the passed shot
in the current reconstruction</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.get_camera">
<span class="sig-name descname"><span class="pre">get_camera</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction.get_camera"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction.get_camera" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a camera by id.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>If exists returns the camera, otherwise None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.get_pano_shot">
<span class="sig-name descname"><span class="pre">get_pano_shot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction.get_pano_shot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction.get_pano_shot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a shot by id.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>If exists returns the shot, otherwise None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.get_point">
<span class="sig-name descname"><span class="pre">get_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction.get_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction.get_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a point by id.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>If exists returns the point, otherwise None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.types.Reconstruction.get_shot">
<span class="sig-name descname"><span class="pre">get_shot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/types.html#Reconstruction.get_shot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.Reconstruction.get_shot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a shot by id.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>If exists returns the shot, otherwise None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="opensfm.types.ShotMesh">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">opensfm.types.</span></span><span class="sig-name descname"><span class="pre">ShotMesh</span></span><a class="reference internal" href="_modules/opensfm/types.html#ShotMesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.types.ShotMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Triangular mesh of points visible in a shot</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="opensfm.types.ShotMesh.vertices">
<span class="sig-name descname"><span class="pre">vertices</span></span><a class="headerlink" href="#opensfm.types.ShotMesh.vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>(list of vectors) mesh vertices</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="opensfm.types.ShotMesh.faces">
<span class="sig-name descname"><span class="pre">faces</span></span><a class="headerlink" href="#opensfm.types.ShotMesh.faces" title="Permalink to this definition">¶</a></dt>
<dd><p>(list of triplets) triangles’ topology</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-opensfm.features">
<span id="features"></span><h2>Features<a class="headerlink" href="#module-opensfm.features" title="Permalink to this headline">¶</a></h2>
<p>Tools to extract features.</p>
<dl class="py function">
<dt class="sig sig-object py" id="opensfm.features.extract_features">
<span class="sig-prename descclassname"><span class="pre">opensfm.features.</span></span><span class="sig-name descname"><span class="pre">extract_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_panorama</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/features.html#extract_features"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.features.extract_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect features in a color or gray-scale image.</p>
<p>The type of feature detected is determined by the <code class="docutils literal notranslate"><span class="pre">feature_type</span></code>
config option.</p>
<p>The coordinates of the detected points are returned in normalized
image coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>-</em>) – a color image with shape (h, w, 3) or
gray-scale image with (h, w) or (h, w, 1)</p></li>
<li><p><strong>config</strong> (<em>-</em>) – the configuration structure</p></li>
<li><p><strong>is_panorama</strong> (<em>-</em>) – if True, alternate settings are used for feature count and extraction size.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>points: <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code> and <code class="docutils literal notranslate"><span class="pre">angle</span></code> for each feature</p></li>
<li><p>descriptors: the descriptor of each feature</p></li>
<li><p>colors: the color of the center of each feature</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.features.normalize_features">
<span class="sig-prename descclassname"><span class="pre">opensfm.features.</span></span><span class="sig-name descname"><span class="pre">normalize_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/features.html#normalize_features"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.features.normalize_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize feature coordinates and size.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.features.resized_image">
<span class="sig-prename descclassname"><span class="pre">opensfm.features.</span></span><span class="sig-name descname"><span class="pre">resized_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="_modules/opensfm/features.html#resized_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.features.resized_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Resize image to feature_process_size.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.features.root_feature_surf">
<span class="sig-prename descclassname"><span class="pre">opensfm.features.</span></span><span class="sig-name descname"><span class="pre">root_feature_surf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l2_normalization</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="_modules/opensfm/features.html#root_feature_surf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.features.root_feature_surf" title="Permalink to this definition">¶</a></dt>
<dd><p>Experimental square root mapping of surf-like feature, only work for 64-dim surf now</p>
</dd></dl>

</div>
<div class="section" id="module-opensfm.matching">
<span id="matching"></span><h2>Matching<a class="headerlink" href="#module-opensfm.matching" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.apply_adhoc_filters">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">apply_adhoc_filters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">matches</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#apply_adhoc_filters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.apply_adhoc_filters" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a set of filters functions defined further below
for removing static data in images.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.compute_inliers_bearings">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">compute_inliers_bearings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#compute_inliers_bearings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.compute_inliers_bearings" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute points that can be triangulated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>b1</strong> – Bearings in the two images.</p></li>
<li><p><strong>b2</strong> – Bearings in the two images.</p></li>
<li><p><strong>R</strong> – Rotation and translation from the second image to the first.
That is the convention and the opposite of many
functions in this module.</p></li>
<li><p><strong>t</strong> – Rotation and translation from the second image to the first.
That is the convention and the opposite of many
functions in this module.</p></li>
<li><p><strong>threshold</strong> – max reprojection error in radians.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Aray of boolean indicating inliers/outliers</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_override</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform full matching (descriptor+robust) for a pair of images.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_arguments">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_arguments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_override</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cameras</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exifs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_arguments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate arguments for parralel processing of pair matching</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_brute_force">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_brute_force</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_brute_force"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_brute_force" title="Permalink to this definition">¶</a></dt>
<dd><p>Brute force matching and Lowe’s ratio filtering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f1</strong> – feature descriptors of the first image</p></li>
<li><p><strong>f2</strong> – feature descriptors of the second image</p></li>
<li><p><strong>config</strong> – config parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_brute_force_symmetric">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_brute_force_symmetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_brute_force_symmetric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_brute_force_symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Match with brute force in both directions and keep consistent matches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fi</strong> – feature descriptors of the first image</p></li>
<li><p><strong>fj</strong> – feature descriptors of the second image</p></li>
<li><p><strong>config</strong> – config parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_descriptors">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_descriptors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_override</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_descriptors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_descriptors" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform descriptor matching for a pair of images.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_flann">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_flann</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_flann"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_flann" title="Permalink to this definition">¶</a></dt>
<dd><p>Match using FLANN and apply Lowe’s ratio filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – flann index if the first image</p></li>
<li><p><strong>f2</strong> – feature descriptors of the second image</p></li>
<li><p><strong>config</strong> – config parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_flann_symmetric">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_flann_symmetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_flann_symmetric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_flann_symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Match using FLANN in both directions and keep consistent matches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fi</strong> – feature descriptors of the first image</p></li>
<li><p><strong>indexi</strong> – flann index if the first image</p></li>
<li><p><strong>fj</strong> – feature descriptors of the second image</p></li>
<li><p><strong>indexj</strong> – flann index of the second image</p></li>
<li><p><strong>config</strong> – config parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_images">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_override</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_images</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cand_images</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform pair matchings between two sets of images.</p>
<p>It will do matching for each pair (i, j), i being in
ref_images and j in cand_images, taking assumption that
matching(i, j) == matching(j ,i). This does not hold for
non-symmetric matching options like WORDS. Data will be
stored in i matching only.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_images_with_pairs">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_images_with_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_override</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exifs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_images_with_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_images_with_pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform pair matchings given pairs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_robust">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_robust</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matches</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_override</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_robust"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_robust" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform robust geometry matching on a set of matched descriptors indexes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_unwrap_args">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_unwrap_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_unwrap_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_unwrap_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for parallel processing of pair matching.</p>
<p>Compute all pair matchings of a given image and save them.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_words">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_words</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">words1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">words2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_words"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_words" title="Permalink to this definition">¶</a></dt>
<dd><p>Match using words and apply Lowe’s ratio filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f1</strong> – feature descriptors of the first image</p></li>
<li><p><strong>w1</strong> – the nth closest words for each feature in the first image</p></li>
<li><p><strong>f2</strong> – feature descriptors of the second image</p></li>
<li><p><strong>w2</strong> – the nth closest words for each feature in the second image</p></li>
<li><p><strong>config</strong> – config parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.match_words_symmetric">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">match_words_symmetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">words1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">words2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#match_words_symmetric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.match_words_symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Match using words in both directions and keep consistent matches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f1</strong> – feature descriptors of the first image</p></li>
<li><p><strong>w1</strong> – the nth closest words for each feature in the first image</p></li>
<li><p><strong>f2</strong> – feature descriptors of the second image</p></li>
<li><p><strong>w2</strong> – the nth closest words for each feature in the second image</p></li>
<li><p><strong>config</strong> – config parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.robust_match">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">robust_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matches</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#robust_match"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.robust_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter matches by fitting a geometric model.</p>
<p>If cameras are perspective without distortion, then the Fundamental
matrix is used.  Otherwise, we use the Essential matrix.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.robust_match_calibrated">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">robust_match_calibrated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matches</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#robust_match_calibrated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.robust_match_calibrated" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter matches by estimating the Essential matrix via RANSAC.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.robust_match_fundamental">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">robust_match_fundamental</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matches</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#robust_match_fundamental"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.robust_match_fundamental" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter matches by estimating the Fundamental matrix via RANSAC.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.save_matches">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">save_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">images_ref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matched_pairs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#save_matches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.save_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>Given pairwise matches (image 1, image 2) - &gt; matches,
save them such as only {image E images_ref} will store the matches.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.matching.unfilter_matches">
<span class="sig-prename descclassname"><span class="pre">opensfm.matching.</span></span><span class="sig-name descname"><span class="pre">unfilter_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matches</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/matching.html#unfilter_matches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.matching.unfilter_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>Given matches and masking arrays, get matches with un-masked indexes.</p>
</dd></dl>

</div>
<div class="section" id="module-opensfm.reconstruction">
<span id="incremental-reconstruction"></span><h2>Incremental Reconstruction<a class="headerlink" href="#module-opensfm.reconstruction" title="Permalink to this headline">¶</a></h2>
<p>Incremental reconstruction pipeline</p>
<dl class="py class">
<dt class="sig sig-object py" id="opensfm.reconstruction.ShouldBundle">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">ShouldBundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#ShouldBundle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.ShouldBundle" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper to keep track of when to run bundle.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="opensfm.reconstruction.ShouldRetriangulate">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">ShouldRetriangulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#ShouldRetriangulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.ShouldRetriangulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper to keep track of when to re-triangulate.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="opensfm.reconstruction.TrackTriangulator">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">TrackTriangulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#TrackTriangulator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.TrackTriangulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Triangulate tracks in a reconstruction.</p>
<p>Caches shot origin and rotation matrix</p>
<dl class="py method">
<dt class="sig sig-object py" id="opensfm.reconstruction.TrackTriangulator.triangulate">
<span class="sig-name descname"><span class="pre">triangulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">track</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reproj_threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_ray_angle_degrees</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#TrackTriangulator.triangulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.TrackTriangulator.triangulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Triangulate track and add point to reconstruction.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.reconstruction.TrackTriangulator.triangulate_dlt">
<span class="sig-name descname"><span class="pre">triangulate_dlt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">track</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reproj_threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_ray_angle_degrees</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#TrackTriangulator.triangulate_dlt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.TrackTriangulator.triangulate_dlt" title="Permalink to this definition">¶</a></dt>
<dd><p>Triangulate track using DLT and add point to reconstruction.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensfm.reconstruction.TrackTriangulator.triangulate_robust">
<span class="sig-name descname"><span class="pre">triangulate_robust</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">track</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reproj_threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_ray_angle_degrees</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#TrackTriangulator.triangulate_robust"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.TrackTriangulator.triangulate_robust" title="Permalink to this definition">¶</a></dt>
<dd><p>Triangulate track in a RANSAC way and add point to reconstruction.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.add_shot">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">add_shot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rig_assignments</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shot_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pose</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pygeometry.Pose</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#add_shot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.add_shot" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a shot to the recontruction.</p>
<p>In case of a shot belonging to a rig instance, the pose of
shot will drive the initial pose setup of the rig instance.
All necessary shots and rig models will be created.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.align_two_reconstruction">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">align_two_reconstruction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">r2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">common_tracks</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#align_two_reconstruction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.align_two_reconstruction" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate similarity transform between two reconstructions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.bootstrap_reconstruction">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">bootstrap_reconstruction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#bootstrap_reconstruction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.bootstrap_reconstruction" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a reconstruction using two shots.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.bundle">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">bundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_priors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pygeometry.Camera</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rig_camera_priors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pymap.RigCamera</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gcp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">opensfm.pymap.GroundControlPoint</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#bundle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.bundle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bundle adjust a reconstruction.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.bundle_local">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">bundle_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_priors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pygeometry.Camera</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rig_camera_priors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pymap.RigCamera</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gcp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">opensfm.pymap.GroundControlPoint</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">central_shot_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#bundle_local"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.bundle_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Bundle adjust the local neighborhood of a shot.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.bundle_shot_poses">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">bundle_shot_poses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">shot_ids</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_priors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pygeometry.Camera</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rig_camera_priors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pymap.RigCamera</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#bundle_shot_poses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.bundle_shot_poses" title="Permalink to this definition">¶</a></dt>
<dd><p>Bundle adjust a set of shots poses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.compute_image_pairs">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">compute_image_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">track_dict</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#compute_image_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.compute_image_pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>All matched image pairs sorted by reconstructability.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.direct_shot_neighbors">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">direct_shot_neighbors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">shot_ids</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_common_points</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_neighbors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#direct_shot_neighbors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.direct_shot_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstructed shots sharing reconstructed points with a shot set.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.exif_to_metadata">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">exif_to_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exif</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_altitude</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.geo.TopocentricConverter</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">opensfm.pymap.ShotMeasurements</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#exif_to_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.exif_to_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a metadata object from raw EXIF tags (as a dict).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.get_image_metadata">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">get_image_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">opensfm.pymap.ShotMeasurements</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#get_image_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.get_image_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get image metadata as a ShotMetadata object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.grow_reconstruction">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">grow_reconstruction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gcp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">opensfm.pymap.GroundControlPoint</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#grow_reconstruction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.grow_reconstruction" title="Permalink to this definition">¶</a></dt>
<dd><p>Incrementally add shots to an initial reconstruction.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.incremental_reconstruction">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">incremental_reconstruction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#incremental_reconstruction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.incremental_reconstruction" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the entire incremental reconstruction pipeline.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.merge_reconstructions">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">merge_reconstructions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reconstructions</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#merge_reconstructions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.merge_reconstructions" title="Permalink to this definition">¶</a></dt>
<dd><p>Greedily merge reconstructions with common tracks.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.merge_two_reconstructions">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">merge_two_reconstructions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">r2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#merge_two_reconstructions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.merge_two_reconstructions" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge two reconstructions with common tracks IDs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.paint_reconstruction">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">paint_reconstruction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#paint_reconstruction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.paint_reconstruction" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the color of the points from the color of the tracks.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.pairwise_reconstructability">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">pairwise_reconstructability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">common_tracks</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_inliers</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">float</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#pairwise_reconstructability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.pairwise_reconstructability" title="Permalink to this definition">¶</a></dt>
<dd><p>Likeliness of an image pair giving a good initial reconstruction.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.reconstruct_from_prior">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">reconstruct_from_prior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rec_prior</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#reconstruct_from_prior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.reconstruct_from_prior" title="Permalink to this definition">¶</a></dt>
<dd><p>Retriangulate a new reconstruction from the rec_prior</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.reconstructed_points_for_images">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">reconstructed_points_for_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#reconstructed_points_for_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.reconstructed_points_for_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of reconstructed points visible on each image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of (image, num_point) pairs sorted by decreasing number
of points.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.remove_outliers">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">remove_outliers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">opensfm.pymap.Landmark</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">int</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#remove_outliers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.remove_outliers" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove points with large reprojection error.</p>
<p>A list of point ids to be processed can be given in <code class="docutils literal notranslate"><span class="pre">points</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.resect">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">resect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.dataset.DataSetBase" title="opensfm.dataset.DataSetBase"><span class="pre">opensfm.dataset.DataSetBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">shot_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_inliers</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#resect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.resect" title="Permalink to this definition">¶</a></dt>
<dd><p>Try resecting and adding a shot to the reconstruction.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True on success.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.retriangulate">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">retriangulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#retriangulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.retriangulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrianguate all points</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.shot_lla_and_compass">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">shot_lla_and_compass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shot</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.Shot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.geo.TopocentricConverter</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#shot_lla_and_compass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.shot_lla_and_compass" title="Permalink to this definition">¶</a></dt>
<dd><p>Lat, lon, alt and compass of the reconstructed shot position.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.shot_neighborhood">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">shot_neighborhood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">central_shot_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_common_points</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_interior_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#shot_neighborhood"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.shot_neighborhood" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstructed shots near a given shot.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>interior: the list of shots at distance smaller than radius</p></li>
<li><p>boundary: shots sharing at least on point with the interior</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>a tuple with interior and boundary</p>
</dd>
</dl>
<p>Central shot is at distance 0.  Shots at distance n + 1 share at least
min_common_points points with shots at distance n.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.triangulate_shot_features">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">triangulate_shot_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tracks_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pymap.TracksManager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#opensfm.types.Reconstruction" title="opensfm.types.Reconstruction"><span class="pre">opensfm.types.Reconstruction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">shot_ids</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="reference internal" href="_modules/opensfm/reconstruction.html#triangulate_shot_features"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.triangulate_shot_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruct as many tracks seen in shot_id as possible.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.two_view_reconstruction">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">two_view_reconstruction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pygeometry.Camera</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pygeometry.Camera</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#two_view_reconstruction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.two_view_reconstruction" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruct two views using the 5-point method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p1</strong> – lists points in the images</p></li>
<li><p><strong>p2</strong> – lists points in the images</p></li>
<li><p><strong>camera1</strong> – Camera models</p></li>
<li><p><strong>camera2</strong> – Camera models</p></li>
<li><p><strong>threshold</strong> – reprojection error threshold</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rotation, translation and inlier list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.two_view_reconstruction_general">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">two_view_reconstruction_general</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pygeometry.Camera</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pygeometry.Camera</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#two_view_reconstruction_general"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.two_view_reconstruction_general" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruct two views from point correspondences.</p>
<p>These will try different reconstruction methods and return the
results of the one with most inliers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p1</strong> – lists points in the images</p></li>
<li><p><strong>p2</strong> – lists points in the images</p></li>
<li><p><strong>camera1</strong> – Camera models</p></li>
<li><p><strong>camera2</strong> – Camera models</p></li>
<li><p><strong>threshold</strong> – reprojection error threshold</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rotation, translation and inlier list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.two_view_reconstruction_plane_based">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">two_view_reconstruction_plane_based</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pygeometry.Camera</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pygeometry.Camera</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#two_view_reconstruction_plane_based"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.two_view_reconstruction_plane_based" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruct two views from point correspondences lying on a plane.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p1</strong> – lists points in the images</p></li>
<li><p><strong>p2</strong> – lists points in the images</p></li>
<li><p><strong>camera1</strong> – Camera models</p></li>
<li><p><strong>camera2</strong> – Camera models</p></li>
<li><p><strong>threshold</strong> – reprojection error threshold</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rotation, translation and inlier list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.reconstruction.two_view_reconstruction_rotation_only">
<span class="sig-prename descclassname"><span class="pre">opensfm.reconstruction.</span></span><span class="sig-name descname"><span class="pre">two_view_reconstruction_rotation_only</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pygeometry.Camera</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">opensfm.pygeometry.Camera</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/opensfm/reconstruction.html#two_view_reconstruction_rotation_only"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.reconstruction.two_view_reconstruction_rotation_only" title="Permalink to this definition">¶</a></dt>
<dd><p>Find rotation between two views from point correspondences.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p1</strong> – lists points in the images</p></li>
<li><p><strong>p2</strong> – lists points in the images</p></li>
<li><p><strong>camera1</strong> – Camera models</p></li>
<li><p><strong>camera2</strong> – Camera models</p></li>
<li><p><strong>threshold</strong> – reprojection error threshold</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rotation and inlier list</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-opensfm.config">
<span id="config"></span><h2>Config<a class="headerlink" href="#module-opensfm.config" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="opensfm.config.default_config">
<span class="sig-prename descclassname"><span class="pre">opensfm.config.</span></span><span class="sig-name descname"><span class="pre">default_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/config.html#default_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.config.default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Return default configuration</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.config.load_config">
<span class="sig-prename descclassname"><span class="pre">opensfm.config.</span></span><span class="sig-name descname"><span class="pre">load_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/config.html#load_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.config.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED: Load config from a config.yaml filepath</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opensfm.config.load_config_from_fileobject">
<span class="sig-prename descclassname"><span class="pre">opensfm.config.</span></span><span class="sig-name descname"><span class="pre">load_config_from_fileobject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opensfm/config.html#load_config_from_fileobject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensfm.config.load_config_from_fileobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Load config from a config.yaml fileobject</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="annotation_tool.html" class="btn btn-neutral float-left" title="Control points annotation tool" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Mapillary.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 
<style>
  @import url('https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700&display=swap');
  html {
    font-family: 'Source Sans Pro', sans-serif;
  }
  .highlight {
    font-family: "Lucida Console", Monaco, monospace!important;
  }
  .wy-side-nav-search {
    background: #212b36;
  }
  .wy-side-nav-search input[type=text] {
    border-color: transparent;
    
  }
  .wy-nav-side {
    background: #212b36;
  }
  .wy-menu-vertical a:hover {
    color: #d9d9d9;
    background: rgba(255, 255, 255, 0.1);
  }
  a, a:hover {
    color: #05cb63;
  }
  body {
    color: #212b36;
  }
  .wy-nav-content-wrap {
    background: #fcfcfc!important;
  }
  .wy-side-nav-search>a:hover {
    color: #fff!important;
  }
  .highlight {
    background: #dee5ed;
  }
  .wy-menu-vertical li.on a, .wy-menu-vertical li.current>a {

  }
  .wy-menu-vertical li.toctree-l1.current>a {
    border-top: 0;
    border-bottom: 0;
  }
  .rst-content pre.literal-block, .rst-content div[class^='highlight'] {
    border-radius: 4px;
    border-color: #dee5ed!important;  
  }
</style>


</body>
</html>